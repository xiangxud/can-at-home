   1               		.file	"main.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.rodata.str1.1,"aMS",@progbits,1
  11               	.LC0:
  12 0000 4341 4E2D 		.string	"CAN-Demo Code\n\rFelix Schulze 2015\n\rmail@felixschulze.com\n\r\n\r"
  12      4465 6D6F 
  12      2043 6F64 
  12      650A 0D46 
  12      656C 6978 
  13               	.LC1:
  14 003d 3A3A 2049 		.string	":: Init mcp2515\n\r"
  14      6E69 7420 
  14      6D63 7032 
  14      3531 350A 
  14      0D00 
  15               	.LC2:
  16 004f 3A3A 2073 		.string	":: send test message\n\r"
  16      656E 6420 
  16      7465 7374 
  16      206D 6573 
  16      7361 6765 
  17               		.section	.text.startup,"ax",@progbits
  18               	.global	main
  20               	main:
  21               	.LFB6:
  22               		.file 1 "main.c"
   1:main.c        **** /*
   2:main.c        ****  * Author: Felix Schulze
   3:main.c        ****  * Date:   21/02/2015
   4:main.c        ****  *
   5:main.c        ****  * Desc:   Can-Demo Code
   6:main.c        ****  * Ver.:   0.01
   7:main.c        ****  *
   8:main.c        ****  */
   9:main.c        **** 
  10:main.c        **** #define BAUD  9600
  11:main.c        **** #define F_CPU 7372800
  12:main.c        **** 
  13:main.c        **** #define LED0 PC2
  14:main.c        **** #define LED1 PC3
  15:main.c        **** #define PORT_LED0 PORTC
  16:main.c        **** #define PORT_LED1 PORTC
  17:main.c        **** #define DDR_LED0 DDRC
  18:main.c        **** #define DDR_LED1 DDRC
  19:main.c        **** 
  20:main.c        **** #include <avr/io.h>
  21:main.c        **** #include <avr/interrupt.h>
  22:main.c        **** #include <util/delay.h>
  23:main.c        **** #include "uart.h"
  24:main.c        **** #include "mcp2515.h"
  25:main.c        **** 
  26:main.c        **** 
  27:main.c        **** int main(void)
  28:main.c        **** {
  23               		.loc 1 28 0
  24               		.cfi_startproc
  25 0000 CF93      		push r28
  26               	.LCFI0:
  27               		.cfi_def_cfa_offset 3
  28               		.cfi_offset 28, -2
  29 0002 DF93      		push r29
  30               	.LCFI1:
  31               		.cfi_def_cfa_offset 4
  32               		.cfi_offset 29, -3
  33 0004 CDB7      		in r28,__SP_L__
  34 0006 DEB7      		in r29,__SP_H__
  35               	.LCFI2:
  36               		.cfi_def_cfa_register 28
  37 0008 2C97      		sbiw r28,12
  38               	.LCFI3:
  39               		.cfi_def_cfa_offset 16
  40 000a 0FB6      		in __tmp_reg__,__SREG__
  41 000c F894      		cli
  42 000e DEBF      		out __SP_H__,r29
  43 0010 0FBE      		out __SREG__,__tmp_reg__
  44 0012 CDBF      		out __SP_L__,r28
  45               	/* prologue: function */
  46               	/* frame size = 12 */
  47               	/* stack size = 14 */
  48               	.L__stack_usage = 14
  29:main.c        **** 
  30:main.c        **** 	stdCanmsg msg;
  31:main.c        **** 	DDR_LED0 |= (1<<LED0);
  49               		.loc 1 31 0
  50 0014 A29A      		sbi 0x14,2
  32:main.c        **** 	DDR_LED1 |= (1<<LED1);
  51               		.loc 1 32 0
  52 0016 A39A      		sbi 0x14,3
  33:main.c        **** 
  34:main.c        **** 	msg.id = 0x0123;
  53               		.loc 1 34 0
  54 0018 83E2      		ldi r24,lo8(35)
  55 001a 91E0      		ldi r25,lo8(1)
  56 001c 9A83      		std Y+2,r25
  57 001e 8983      		std Y+1,r24
  35:main.c        **** 	msg.rtr = 0;
  58               		.loc 1 35 0
  59 0020 1B82      		std Y+3,__zero_reg__
  36:main.c        **** 	msg.length = 2;
  60               		.loc 1 36 0
  61 0022 82E0      		ldi r24,lo8(2)
  62 0024 8C83      		std Y+4,r24
  37:main.c        **** 	msg.data[0] = 0x04;
  63               		.loc 1 37 0
  64 0026 84E0      		ldi r24,lo8(4)
  65 0028 8D83      		std Y+5,r24
  38:main.c        **** 	msg.data[1] = 0xf3;
  66               		.loc 1 38 0
  67 002a 83EF      		ldi r24,lo8(-13)
  68 002c 8E83      		std Y+6,r24
  39:main.c        **** 
  40:main.c        **** 
  41:main.c        **** 	uart_init(BAUD_SELECT(BAUD, F_CPU));
  69               		.loc 1 41 0
  70 002e 8FE2      		ldi r24,lo8(47)
  71 0030 90E0      		ldi r25,0
  72 0032 00D0      		rcall uart_init
  73               	.LVL0:
  42:main.c        **** 	
  43:main.c        **** 	PORT_LED1 |= (1<<LED1);
  74               		.loc 1 43 0
  75 0034 AB9A      		sbi 0x15,3
  44:main.c        **** 	uart_puts("CAN-Demo Code\n\rFelix Schulze 2015\n\rmail@felixschulze.com\n\r\n\r");
  76               		.loc 1 44 0
  77 0036 80E0      		ldi r24,lo8(.LC0)
  78 0038 90E0      		ldi r25,hi8(.LC0)
  79 003a 00D0      		rcall uart_puts
  80               	.LVL1:
  45:main.c        **** 	PORT_LED0 |= (1<<LED0);
  81               		.loc 1 45 0
  82 003c AA9A      		sbi 0x15,2
  46:main.c        **** 
  47:main.c        **** 	mcp_init();
  83               		.loc 1 47 0
  84 003e 00D0      		rcall mcp_init
  85               	.LVL2:
  48:main.c        **** 	PORT_LED1 |= (1<<LED1);
  86               		.loc 1 48 0
  87 0040 AB9A      		sbi 0x15,3
  49:main.c        **** 	uart_puts(":: Init mcp2515\n\r");
  88               		.loc 1 49 0
  89 0042 80E0      		ldi r24,lo8(.LC1)
  90 0044 90E0      		ldi r25,hi8(.LC1)
  91 0046 00D0      		rcall uart_puts
  92               	.LVL3:
  50:main.c        **** 	PORT_LED0 |= (1<<LED0);
  93               		.loc 1 50 0
  94 0048 AA9A      		sbi 0x15,2
  51:main.c        **** 
  52:main.c        **** 	uart_puts(":: send test message\n\r");
  95               		.loc 1 52 0
  96 004a 80E0      		ldi r24,lo8(.LC2)
  97 004c 90E0      		ldi r25,hi8(.LC2)
  98 004e 00D0      		rcall uart_puts
  99               	.LVL4:
  53:main.c        **** 	can_send_message(&msg);
 100               		.loc 1 53 0
 101 0050 CE01      		movw r24,r28
 102 0052 0196      		adiw r24,1
 103 0054 00D0      		rcall can_send_message
 104               	.LVL5:
 105               	.L2:
  54:main.c        **** 
  55:main.c        **** 
  56:main.c        **** 	while(1);
 106               		.loc 1 56 0 discriminator 1
 107 0056 00C0      		rjmp .L2
 108               		.cfi_endproc
 109               	.LFE6:
 111               		.text
 112               	.Letext0:
 113               		.file 2 "/usr/avr/include/stdint.h"
 114               		.file 3 "mcp2515.h"
 115               		.file 4 "uart.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccnLbeqg.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccnLbeqg.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccnLbeqg.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccnLbeqg.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccnLbeqg.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccnLbeqg.s:20     .text.startup:0000000000000000 main

UNDEFINED SYMBOLS
uart_init
uart_puts
mcp_init
can_send_message
__do_copy_data
